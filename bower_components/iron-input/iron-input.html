<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="import" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../polymer/polymer.html"><link rel="prefetch" href="../polymer/lib/legacy/legacy-element-mixin.html"><link rel="prefetch" href="../shadycss/apply-shim.html"><link rel="prefetch" href="../shadycss/apply-shim.min.js"><link rel="prefetch" href="../polymer/lib/mixins/element-mixin.html"><link rel="prefetch" href="../polymer/lib/utils/boot.html"><link rel="prefetch" href="../polymer/lib/utils/mixin.html"><link rel="prefetch" href="../polymer/lib/utils/case-map.html"><link rel="prefetch" href="../polymer/lib/utils/style-gather.html"><link rel="prefetch" href="../polymer/lib/utils/resolve-url.html"><link rel="prefetch" href="../polymer/lib/elements/dom-module.html"><link rel="prefetch" href="../polymer/lib/mixins/property-effects.html"><link rel="prefetch" href="../polymer/lib/utils/path.html"><link rel="prefetch" href="../polymer/lib/mixins/property-accessors.html"><link rel="prefetch" href="../polymer/lib/utils/async.html"><link rel="prefetch" href="../polymer/lib/mixins/template-stamp.html"><link rel="prefetch" href="../polymer/lib/mixins/gesture-event-listeners.html"><link rel="prefetch" href="../polymer/lib/utils/gestures.html"><link rel="prefetch" href="../polymer/lib/utils/debounce.html"><link rel="prefetch" href="../polymer/lib/utils/import-href.html"><link rel="prefetch" href="../polymer/lib/utils/render-status.html"><link rel="prefetch" href="../polymer/lib/utils/unresolved.html"><link rel="prefetch" href="../polymer/lib/legacy/polymer.dom.html"><link rel="prefetch" href="../polymer/lib/utils/flattened-nodes-observer.html"><link rel="prefetch" href="../polymer/lib/utils/array-splice.html"><link rel="prefetch" href="../polymer/lib/utils/flush.html"><link rel="prefetch" href="../polymer/lib/legacy/polymer-fn.html"><link rel="prefetch" href="../polymer/lib/legacy/class.html"><link rel="prefetch" href="../polymer/lib/legacy/templatizer-behavior.html"><link rel="prefetch" href="../polymer/lib/utils/templatize.html"><link rel="prefetch" href="../polymer/lib/mixins/mutable-data.html"><link rel="prefetch" href="../polymer/lib/elements/dom-bind.html"><link rel="prefetch" href="../polymer/lib/elements/dom-repeat.html"><link rel="prefetch" href="../polymer/polymer-element.html"><link rel="prefetch" href="../polymer/lib/elements/dom-if.html"><link rel="prefetch" href="../polymer/lib/elements/array-selector.html"><link rel="prefetch" href="../polymer/lib/elements/custom-style.html"><link rel="prefetch" href="../shadycss/custom-style-interface.html"><link rel="prefetch" href="../shadycss/custom-style-interface.min.js"><link rel="prefetch" href="../polymer/lib/legacy/mutable-data-behavior.html"><link rel="prefetch" href="../iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../iron-meta/iron-meta.html"></head><body><dom-module id="iron-input"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:'iron-input',behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String},value:{computed:'_computeValue(bindValue)'},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1}},observers:['_bindValueChanged(bindValue, _inputElement)'],listeners:{input:'_onInput',keypress:'_onKeypress'},created:function(){Polymer.IronA11yAnnouncer.requestAvailability(),this._previousValidInput='',this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire('iron-input-ready')},get _patternRegExp(){var a;if(this.allowedPattern)a=new RegExp(this.allowedPattern);else switch(this.type){case'number':a=/[0-9.,e-]/;}return a},_bindValueChanged:function(b,c){c&&(b===void 0?c.value=null:b!==c.value&&(this.inputElement.value=b),this.autoValidate&&this.validate(),this.fire('bind-value-changed',{value:b}))},_onInput:function(){if(this.allowedPattern&&!this._patternAlreadyChecked){var b=this._checkPatternValidity();b||(this._announceInvalidCharacter('Invalid string of characters not entered.'),this.inputElement.value=this._previousValidInput)}this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(b){var c=8==b.keyCode||9==b.keyCode||13==b.keyCode||27==b.keyCode,d=19==b.keyCode||20==b.keyCode||45==b.keyCode||46==b.keyCode||144==b.keyCode||145==b.keyCode||32<b.keyCode&&41>b.keyCode||111<b.keyCode&&124>b.keyCode;return!c&&!(0==b.charCode&&d)},_onKeypress:function(b){if(this.allowedPattern||'number'===this.type){var c=this._patternRegExp;if(c&&!(b.metaKey||b.ctrlKey||b.altKey)){this._patternAlreadyChecked=!0;var d=String.fromCharCode(b.charCode);this._isPrintable(b)&&!c.test(d)&&(b.preventDefault(),this._announceInvalidCharacter('Invalid character '+d+' not entered.'))}}},_checkPatternValidity:function(){var b=this._patternRegExp;if(!b)return!0;for(var c=0;c<this.inputElement.value.length;c++)if(!b.test(this.inputElement.value[c]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var b=this.inputElement.checkValidity();return b&&(this.required&&''===this.bindValue?b=!1:this.hasValidator()&&(b=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue))),this.invalid=!b,this.fire('iron-input-validate'),b},_announceInvalidCharacter:function(b){this.fire('iron-announce',{text:b})},_computeValue:function(b){return b}});</script></dom-module></body></html>